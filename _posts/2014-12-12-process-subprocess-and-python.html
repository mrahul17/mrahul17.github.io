---
layout: page
title: Process, Subprocess and Python
date: '2014-12-12T01:50:00.000-08:00'
author: light94
tags: [python,linux,ubuntu]
modified_time: '2014-12-12T01:50:10.735-08:00'
blogger_id: tag:blogger.com,1999:blog-4425839703382213369.post-3115967408543117733
blogger_orig_url: http://justanotherlearner.blogspot.com/2014/12/process-subprocess-and-python.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><blockquote class="tr_bq"><i>A process is an instance of a computer program being executed.</i></blockquote>When you run a code, an <b>instance </b>of the program is created. The instance contains the program code and system state like pointer to the next instruction to be executed, memory etc. When you run the <b>same </b>code more than once <b>concurrently</b>, you are actually creating <b>multiple instances </b>of the same program.<br /><br />A <b>SubProcess</b> is a set of activities that have a logical sequence that meet a clear purpose. <b>A SubProcess is a process in itself</b>, whose functionality is part of a larger process. A new <b>process&nbsp;</b>that a program creates is called a&nbsp;<b>subprocess</b>.<br /><br />Straight from the python&nbsp;<a href="https://docs.python.org/2/library/subprocess.html" target="_blank">docs</a>&nbsp;.:<br /><br /><blockquote class="tr_bq"><i>The subprocess module allows you to spawn new processes, connect to their input/output/error pipes, and obtain their return codes.</i></blockquote><br />As earlier said that a subprocess carries with it its own system state, so we note in the above definition that every subprocess has its own defined input/ouput/error pipe.<br /><br /><blockquote class="tr_bq">&nbsp;<i>Subprocess spawns new processes, but aside from stdin/stdout and whatever other APIs the other program may implement you have no means to communicate with them. Its main purpose is to launch processes that are completely separate from your own program.&nbsp;</i></blockquote><br /><b>In python, </b>the subprocess module lets you run programs that are different from your program. For example, you wrote a python installer to install the package you made. Now, your package has certain dependencies. So, you can either tell the user to install them manually or you could install it by creating a subprocess like:<br /><br /><blockquote class="tr_bq">import subprocess</blockquote><blockquote class="tr_bq">subprocess.call(["sudo","apt-get","install","&lt;package-name&gt;"])&nbsp;</blockquote><br />Note that the argument can be a single string or a sequence, but the string implementation is platform independent. So, i think it is better to use the arguments in a sequence.<br />The <b>call </b>, <b>check_call </b>, <b>check_output </b>are all convenience functions that are based on the <b>Popen interface. call()</b> returns the exit code of the program and you need to check if there was an error or not. However, <b>check_call</b> raises an exception if there was an error. <b>check_output</b> also raises an exception if there is an error and additionally returns output in the form of byte string.<br /><br />Now, when to use these convenience function and when to use the basic Popen ? <a href="http://stackoverflow.com/questions/7681715/whats-the-difference-between-subprocess-popen-and-call-how-do-you-use-them-to" target="_blank">Here</a> it is. Let me summarize, the convenience functions are <b>wrappers</b> around the <b>Popen interface </b>with the default functionality that they wait for the subprocess to get finished i.e they <b>block further execution of main process until the subprocess has either finished or timedout. </b>You can look at the implementation of&nbsp;<a href="https://hg.python.org/cpython/file/e0df7db13d55/Lib/subprocess.py#l459" target="_blank">subprocess.p</a>y here.&nbsp;</div>